\chapter{Problem Statement} \label{chap:problem}

As motion applications complexity increases, like in the robotics field, the need for a more complex and robust driving system arises, and with it, the need to make decisions regarding the technologies to be implemented for them. For example, when a robotics project begins, with the objective to implement a solution that hasn't been implemented before, one of the main concerns is the motion system. The selection of the motor that is going to be used in a project is not an easy task, since many details must be considered, like the speed and torque required by the application, which lead to the selection of the motor technology, which might be limited by the available power source, the computing power and the economic budget of the project. These aspects have a strong dependency between each other and choosing each one of them represents a trade-off that must be studied in detail to reach an optimal result for the desired application.

\section{Technological Trade-Offs}\label{sec:research_questions}

One of the main goals in the technology research and development has always been to reduce the trade-offs between the most important parameters in different engineering applications, using the most suitable technologies available, depending on the application requirements. One of the fields of engineering that has a big focus on the reduction of trade-offs is the motor drive research, since their development is crucial to drive innovation in many engineering fields.

A complicated trade-off to deal with is the cost of a motor drive, which is one of the most limiting characteristics project developments, both for research activities and for industrial and consumer applications. If a project is not expected to generate an income after its development or it’s not backed up by a research institute with resources, or if the product is expected to be kept at a low price for many different reasons (like accessibility for low income communities or the possibility of large expansion), the price of a motor drive might be the weak side in a trade-off analysis and the development of the project might not be optimal, since it might require more work to reach an acceptable result.

\section{Learning Curve}\label{sec:objectives}

The cost of a project leads to another important trade-off on engineering research and development: the learning curve. In some areas like robotics, a professional engineering project requires thousands of hours of man-work to reach a desirable result. An important amount of the time available for these projects is used in learning theory regarding the technology related to the project and how the available tools for such technology work. This time consumed in learning all the information needed regarding a project is called “learning curve”. The amount of work necessary to reach a good result makes most of the engineering projects expensive and, in many cases, a big part of that time is consumed by the learning curve, time that could be used for developing another part of the project, increasing the speed of the development and, therefore, reducing its cost.

\section{Motor Driver Development}\label{sec:methods}

With the aim to solve these two important trade-off factors in motor driving systems, we decided to study the possibility to reduce the cost of a motor drive by using a driver based on a cheap architecture which can be easily modified and allows to understand in a fast way how the motor driver works, making the development around it faster and easier for future projects.

To set up the design specifications for the motor driver to be studied, we based the requirements in the drive characteristics of a robot designed for robotic agriculture designed by the engineering group of the AIRLab of the Politecnico di Milano called ROBI' (\citeauthor{robi:2017}, \citeyear{robi:2017}). This robot is driven by four in-wheel brushless motors that will be described in detail in Chapter \ref{chap:robi}.\\

\section{Implementation of Field Oriented Control}\label{sec:novelties}

Having the objective defined, we looked for an already available platform to develop a motor driver with aims to look for points to improve and define a platform that could be used for different projects involving \acf{PMAC} motors, both \acf{BLDC} and \ac{PMSM}. With this aim, we found a board called VESC Board, developed by the Swedish engineer Benjamin Vedder, who made available all the files for its production, including the schematic circuits, the bill of materials, the \acf{PCB} layout files and the source code. Vedder’s circuit was very appealing since it had many ports available and it was based on a technology that is easy to study since it’s based in a design proposed by Texas Instrument for three-phase motors.

Since this motor driver was needed to be used in robotics applications, we had the necessity to modify the source code of the microcontroller to apply motor control methods that would be different to the ones available for the VESC board since the code available was designed to drive an electric skateboard. For this aim, we decided to develop our own source code, this way we would have control over everything developed by us and the expansion of the code would follow up without the need of doing reverse engineering over the code that was already available.

Since the motors of the wheels of the robot are \ac{PMSM}, they have a sinusoidal configuration, and therefore, a sinusoidal waveform was needed to be applied into the motor to reach an optimal efficiency and to control the speed even in low speeds. This specification pointed us towards the implementation of the \acf{FOC} method, which improves the torque capabilities of the motor at controlled low speeds as it will be explained in Chapter \ref{chap:theory}.